<!-- Main Wrapper -->
<div class="main-wrapper login-body">
  <div class="login-wrapper">
    <div class="container">
      <img
        class="img-fluid logo-dark mb-2 logo-color"
        src="assets/img/logo2.png"
        alt="Logo"
      />

      <div class="loginbox">
        <div class="login-right">
          <div class="login-right-wrap">
            <h1>تسجيل</h1>

            <!-- Form -->
            <form [formGroup]="registerForm" (ngSubmit)="submit()">
              <div class="input-block mb-3">
                <label htmlFor="label" class="form-control-label"
                  >اسم المستخدم</label
                >
                <input
                  id="label"
                  class="form-control"
                  type="text"
                  formControlName="username"
                  id="username"
                  [ngClass]="{
                    'is-invalid':
                      registerForm.get('username')?.touched &&
                      registerForm.get('username')?.invalid,
                  }"
                />
                @if (
                  registerForm.get("Password")?.touched &&
                  registerForm.get("Password")?.hasError("required")
                ) {
                  <div class="invalid-feedback">
                    @if (
                      registerForm.get("Password")?.touched &&
                      registerForm.get("Password")?.hasError("required")
                    ) {
                      <div>اسم المستخدم مطلوب.</div>
                    }
                  </div>
                }
                @if (CustomControler !== 0) {
                  <div class="invalid-feedback">
                    {{ CustomControler }}
                  </div>
                }
              </div>

              <div class="input-block mb-3">
                <label htmlFor="label" class="form-control-label"
                  >البريد الالكتروني</label
                >
                <input
                  id="label"
                  class="form-control"
                  type="text"
                  formControlName="email"
                  id="email"
                  [ngClass]="{
                    'is-invalid':
                      registerForm.get('email')?.touched &&
                      registerForm.get('email')?.hasError('required'),
                  }"
                />
                @if (
                  registerForm.get("email")?.touched &&
                  registerForm.get("email")?.hasError("required")
                ) {
                  <div class="invalid-feedback">
                    @if (
                      registerForm.get("email")?.touched &&
                      registerForm.get("email")?.hasError("required")
                    ) {
                      <div>البريد الالكتروني مطلوب.</div>
                    }
                  </div>
                }
                @if (CustomControler !== 0) {
                  <div class="invalid-feedback">
                    {{ CustomControler }}
                  </div>
                }
              </div>

              <div class="input-block mb-3">
                <label htmlFor="label" class="form-control-label"
                  >كلمة المرور</label
                >
                <input
                  id="label"
                  class="form-control"
                  type="password"
                  formControlName="password"
                  id="password"
                  [ngClass]="{
                    'is-invalid':
                      registerForm.get('password')?.touched &&
                      registerForm.get('password')?.hasError('required'),
                  }"
                />
                @if (
                  registerForm.get("password")?.touched &&
                  registerForm.get("password")?.hasError("required")
                ) {
                  <div class="invalid-feedback">
                    @if (
                      registerForm.get("password")?.touched &&
                      registerForm.get("password")?.hasError("required")
                    ) {
                      <div>كلمة المرور مطلوبة.</div>
                    }
                  </div>
                }
              </div>

              <div class="input-block mb-3">
                <label htmlFor="label" class="form-control-label"
                  >تأكيد كلمة المرور</label
                >
                <input
                  id="label"
                  class="form-control"
                  type="password"
                  formControlName="confirmPassword"
                  id="confirmPassword"
                  [ngClass]="{
                    'is-invalid':
                      registerForm.get('confirmPassword')?.touched &&
                      registerForm.get('confirmPassword')?.hasError('required'),
                  }"
                />

                @if (
                  registerForm.get("confirmPassword")?.touched &&
                  registerForm.hasError("passwordMismatch") &&
                  (registerForm.get("password")?.dirty ||
                    registerForm.get("confirmPassword")?.dirty)
                ) {
                  <div class="invalid-feedback">كلمة المرور غير متطابقة</div>
                }
              </div>

              <div class="input-block mb-3 mb-0">
                <button
                  class="btn btn-lg btn-block btn-primary w-100"
                  type="submit"
                  [disabled]="!registerForm.valid"
                >
                  تسجيل
                </button>
              </div>
            </form>
            <!-- /Form -->

            <div class="login-or">
              <span class="or-line"></span>
              <span class="span-or">or</span>
            </div>
            <!-- Social Login -->
            <div class="social-login">
              <span>Register with</span>
              <a href="javascript:void(0);" class="facebook"
                ><i class="fab fa-facebook-f"></i></a
              ><a href="javascript:void(0);" class="google"
                ><i class="fab fa-google"></i
              ></a>
            </div>
            <!-- /Social Login -->
            <div class="text-center dont-have">
              هل لديك حساب؟
              <a [routerLink]="[this.routes.login]">تسجيل الدخول</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- /Main Wrapper -->
